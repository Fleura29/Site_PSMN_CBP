<!DOCTYPE html>

<html lang="fr" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" type="image/x-icon" href="../../_static/cbpsmn_logo.png" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Compilation de PKDGRAV3 &#8212; Documentation PSMN-CBP </title>
    <script src="../../_static/documentation_options.js?v=d1a510d7"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/translations.js?v=bf059b8c"></script>
    <link href="../../_static/Bootstrap/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../../_static/style.css">
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Recherche" href="../../search.html" /> 
  </head><body>  

    <div class="document">
      <div class="orange-border"></div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            <div class="container contenu">
              <header class="list-inline-item" >
    <div class="d-flex justify-content-between">
        <div class="wid-header pt-3">
            <a href="../../index.html">
                <img id="logo_cbp_light" class="img-fluid" src="../../_static/header/cbpsmn_logo.png" alt="logo CBPsmn">
                <img id="logo_cbp_dark" class="img-fluid" src="../../_static/header/cbpsmn_logo_dark.png" alt="logo CBPsmn">
            </a>
        </div>
        <div class="wid-header">
            <button class="btn-theme" id="theme"></button>
            <a href="https://www.ens-lyon.fr/">
                <img id="logo_ens_light" class="img-fluid" src="../../_static/header/Logo_ENS_Lyon2.png" alt="logo ENS de Lyon">
                <img id="logo_ens_dark" class="img-fluid" src="../../_static/header/Logo_ENS_Lyon_dark.png" alt="logo ENS de Lyon">
            </a>
        </div>
    </div>
    
    <nav class="navbar navbar-expand-lg">
        <div class="container-fluid">
            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0" id="menu">

                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" aria-current="page">Accueil</a>
                        <div class="dropdown-menu">
                            <ul>
                                <li><a class="dropdown-item" href="../../Accueil/Actualites.html">Actualités PSMN</a></li>
                                <li><a class="dropdown-item" href="../../Accueil/Bureau.html">Bureau des Correspondants</a></li>
                                <li><a class="dropdown-item" href="../../Accueil/Evenements.html">Évènements CBP</a></li>
                                <li><a class="dropdown-item" href="../../Accueil/Liens.html">Liens</a></li>
                                <li><a class="dropdown-item" href="../../Accueil/Services.html">Services</a></li>
                                <li class="nav-item dropend">
                                    <a class="dropdown-toggle dropdown-item" href="#">Partenaires</a>
                                    <div class="dropdown-menu">
                                        <ul>
                                            <li><a class="dropdown-item" href="../../Accueil/Laboratoires/ENS.html">Les laboratoires ENS Lyon</a></li> 
                                            <li><a class="dropdown-item" href="../../Accueil/Laboratoires/Udl.html">Les laboratoires Udl</a></li>
                                            <li><a class="dropdown-item" href="../../Accueil/Laboratoires/AURA.html">Les laboratoires région AURA</a></li>
                                            <li><a class="dropdown-item" href="../../Accueil/Laboratoires/CdC.html">Les Centres de Calculs</a></li>
                                            <li><a class="dropdown-item" href="../../Accueil/Laboratoires/PP.html">Les partenaires privés</a></li>
                                        </ul>
                                    </div>
                                </li>
                            </ul>   
                        </div>
                    </li>
                
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#">Informations</a>
                        <div class="dropdown-menu">
                            <ul>
                                <li><a class="dropdown-item" href="../../Informations/News.html">Fil des news</a></li>
                                <li><a class="dropdown-item" href="../../Informations/Arrets.html">Les arrêts prévus</a></li>
                                <li><a class="dropdown-item" href="../../Informations/Absences.html">Les absences des opérateurs</a></li>
                                <li><a class="dropdown-item" href="../../Informations/StatsUtil.html">Statistiques d'utilisation</a></li>
                                <li><a class="dropdown-item" href="../../Informations/Calendrier.html">Calendrier des évolutions</a></li>
                                <li><a class="dropdown-item" href="../../Informations/Adaptation.html">Adaptation aux nouveaux besoins</a></li>
                                <li><a class="dropdown-item" href="../../Informations/Calculer.html">Pour calculer</a></li>
                                <li><a class="dropdown-item" href="#">F.A.Q.</a></li>
                                <li class="nav-item dropend">
                                    <a class="dropdown-toggle dropdown-item" href="#">Réalisations et solutions</a>
                                    <div class="dropdown-menu">
                                        <ul> 
                                            <li><a class="dropdown-item" href="../../Informations/Realisations/Logiciels.html">Logiciels</a></li> 
                                            <li><a class="dropdown-item" href="../../Informations/Realisations/Outils.html">Outils système</a></li> 
                                            <li><a class="dropdown-item" href="../../Informations/Realisations/Materiel.html">Matériel</a></li> 
                                            <li><a class="dropdown-item" href="../../Informations/Realisations/Reseaux.html">Réseaux</a></li> 
                                            <li><a class="dropdown-item" href="../../Informations/Realisations/Plateaux.html">Plateaux techniques</a></li> 
                                        </ul>
                                    </div>
                                </li>
                                <li class="nav-item dropend">
                                    <a class="dropdown-toggle dropdown-item" href="#">Classification par activités</a>
                                    <div class="dropdown-menu">
                                        <ul> 
                                            <li><a class="dropdown-item" href="../../Informations/Classification/Etudes.html">Etudes</a></li> 
                                            <li><a class="dropdown-item" href="../../Informations/Classification/Integration.html">Intégration</a></li> 
                                            <li><a class="dropdown-item" href="../../Informations/Classification/Qualification.html">Qualification</a></li> 
                                        </ul>
                                    </div>
                                </li>
                            </ul>       
                        </div>
                    </li> 
                
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#">Plateformes</a>
                        <div class="dropdown-menu">
                            <ul>
                                <li><a class="dropdown-item" href="../DataCenter.html">Data Center</a></li>
                                <li><a class="dropdown-item" href="https://www.ens-lyon.fr/PSMN/Documentation/">Documentations</a></li>
                                <li><a class="dropdown-item" href="../ClustersServeurs.html">Les clusters et les serveurs</a></li>
                                <li><a class="dropdown-item" href="../EquipInfo.html">Equipements informatique</a></li>
                                <li><a class="dropdown-item" href="../ProjetsInfra.html">Projets d'infrastructure</a></li>
                                <li class="nav-item dropend">
                                    <a class="dropdown-toggle dropdown-item" href="#">Supports</a>
                                    <div class="dropdown-menu">
                                        <ul>   
                                            <li><a class="dropdown-item" href="../Supports/RCS.html">Recherche en calcul scientifique</a></li> 
                                            <li><a class="dropdown-item" href="../Supports/RIS.html">Recherche en informatique scientifique</a></li>
                                            <li><a class="dropdown-item" href="../Supports/HN.html">En humanités numériques</a></li>
                                            <li><a class="dropdown-item" href="../Supports/AFJ.html">Administratif, financier et juridique</a></li>
                                        </ul>                                        
                                    </div>
                                </li>  
                            </ul>   
                        </div>
                    </li>
                
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#">Formation</a>
                        <div class="dropdown-menu">
                            <ul>
                                <li><a class="dropdown-item" href="../../Formation/Formation.html">Formation</a></li>
                                <li><a class="dropdown-item" href="../../Formation/Stage.html">Propositions de stage</a></li>
                            </ul>   
                        </div>
                    </li>
                    
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#">Science</a>
                        <div class="dropdown-menu">
                            <ul> 
                                <li><a class="dropdown-item" href="../../Science/Publications2024.html">Publications</a></li>
                                <li><a class="dropdown-item" href="../../Science/Theses.html">Thèses</a></li>
                                <li><a class="dropdown-item" href="../../Science/CreationsMulti.html">Créations multimédia</a></li>
                                <li><a class="dropdown-item" href="../../Science/Chercheurs.html">Chercheurs associés</a></li>
                                <li><a class="dropdown-item" href="../../Science/Projets.html">Projets scientifiques + Projets utilisateurs</a></li>
                            </ul>   
                        </div>
                    </li>
                    
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#">Animation</a>
                        <div class="dropdown-menu">
                            <ul>
                                <li><a class="dropdown-item" href="../../Animation/EvenementsScient.html">Évènements scientifiques</a></li>
                                <li><a class="dropdown-item" href="../../Animation/Services.html">Services proposés aux organisateurs</a></li>
                                <li><a class="dropdown-item" href="../../Animation/PAS.html">Projets d'animation scientifique</a></li>
                                <li><a class="dropdown-item" href="../../Animation/Appels.html">Appel à projets</a></li>
                                <li><a class="dropdown-item" href="../../Animation/Media.html">Médias</a></li>
                                <li class="nav-item dropend">
                                    <a class="dropdown-toggle dropdown-item" href="#">Ateliers HM / PN-SHS</a>
                                    <div class="dropdown-menu">
                                        <ul>
                                            <li><a class="dropdown-item" href="../../Animation/Ateliers/AHN.html">Humanités Numériques (AHN)</a></li> 
                                            <li><a class="dropdown-item" href="../../Animation/Ateliers/ABC.html">Biologie Computationnelle (ABC)</a></li>
                                            <li><a class="dropdown-item" href="../../Animation/Ateliers/ACT.html">Chimie Théorique</a></li>
                                            <li><a class="dropdown-item" href="https://groupes.renater.fr/wiki/apn-shs/index">Pratiques Numériques en SHS (ED483)</a></li>
                                            <li><a class="dropdown-item" href="../../Animation/Ateliers/Guides.html">Guides et Tutoriels</a></li>
                                        </ul>
                                    </div>
                                </li>
                            </ul>   
                        </div>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#">Réseaux</a>
                        <div class="dropdown-menu">
                            <ul>
                                <li><a class="dropdown-item" href="../../R%C3%A9seaux/CECAM.html">CECAM-FR-RA</a></li> 
                                <li><a class="dropdown-item" href="../../R%C3%A9seaux/FLMSN.html">FLMSN</a></li>
                                <li><a class="dropdown-item" href="../../R%C3%A9seaux/IXXI.html">IXXI</a></li>
                                <li><a class="dropdown-item" href="../../R%C3%A9seaux/PBIL.html">Pôle Bioinformatique Lyonnais</a></li>
                                <li><a class="dropdown-item" href="../../R%C3%A9seaux/CIRA.html">CIRA: Calcul intensif en Rhône-Alpes</a></li>
                                <li><a class="dropdown-item" href="../../R%C3%A9seaux/GDR.html">GDR Calcul</a></li>
                                <li><a class="dropdown-item" href="../../R%C3%A9seaux/LC.html">LyonCalcul</a></li>
                                <li><a class="dropdown-item" href="../../R%C3%A9seaux/Sierra.html">Sierra</a></li>
                            </ul>
                        </div>
                    </li>
                    
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#">Contacts</a>
                        <div class="dropdown-menu">
                            <ul>
                                <li><a class="dropdown-item" href="../../Contacts/Acces.html ">Accès aux sites</a></li>
                                <li><a class="dropdown-item" href="../../Contacts/Equipe.html">Équipe / Staff</a></li>                                        
                                <li><a class="dropdown-item" href="../../Contacts/Calendrier.html">Calendrier & réservations de la salle TP</a></li>
                                <li><a class="dropdown-item" href="../../Contacts/Formulaires.html">Formulaires</a></li>
                            </ul>   
                        </div>
                    </li>  
                </ul>
            </div>
            <div class="container w-25">

<search id="searchbox" role="search">
    <form class="d-flex" style="height: 35px;" action="../../search.html" method="get">
      <input class="form-control me-2 input-search" type="text" name="q" placeholder="Rechercher" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input class="btn btn-search" type="submit" value="Go" />
    </form>
</search>

            </div>

        </div>
    </nav>
</header>
              <div class="pt-4 border-top border-secondary" id="contenu">
                
  <p id="pkdgrav3"><a class="reference internal" href="GPU2019.html#gpu2019"><span class="std std-ref">Retour aux travaux pratiques</span></a></p>
<section id="compilation-de-pkdgrav3">
<h1>Compilation de PKDGRAV3<a class="headerlink" href="#compilation-de-pkdgrav3" title="Lien vers cette rubrique">¶</a></h1>
<section id="une-integration-non-reproductible-dans-le-temps-ou-l-espace">
<h2>Une intégration non reproductible, dans le temps ou l’espace<a class="headerlink" href="#une-integration-non-reproductible-dans-le-temps-ou-l-espace" title="Lien vers cette rubrique">¶</a></h2>
<p>Au 27 novembre 2018, la compilation de <code class="docutils literal notranslate"><span class="pre">PKDGRAV3</span></code> se déroule sans difficulté, dès lors que le compilateur est compatible avec l’environnement CUDA. Seuls les compilateurs GNU 4.9 permettent d’obtenir un exécutable.</p>
<p>Par contre, lors de l’exécution, les choses se corsent : sur la version du 27 novembre, seules les cartes Tesla fonctionnent avec l’exemple, dès lors qu’elles sont bien pointées par la variable <code class="docutils literal notranslate"><span class="pre">CUDA_VISIBLE_DEVICES</span></code>. En effet, PKDGRAV3 n’est pas multi-gpu : s’il détecte plusieurs périphériques Nvidia à l’exécution, il plante avec le message suivant :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cudaSetDevice<span class="w"> </span>error<span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="k">in</span><span class="w"> </span>/local/root/INSA/dpotter-pkdgrav3-f156bcc06373/cudautil.cu<span class="o">(</span><span class="m">219</span><span class="o">)</span>
invalid<span class="w"> </span>device<span class="w"> </span>ordinal
</pre></div>
</div>
<p>Aucune des cartes RTX, GTX ou Quadro ne permettent son exécution avec un message d’erreur à rendre perplexe le plus aguerri des intégrateurs :-/ . La sortie offre une bordée d’injures :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Caught<span class="w"> </span>signal<span class="w"> </span><span class="m">11</span><span class="w"> </span>at<span class="w"> </span>address<span class="w"> </span><span class="o">(</span>nil<span class="o">)</span>
Frame<span class="w">  </span><span class="m">0</span>:<span class="w"> </span>../build/pkdgrav3<span class="o">()</span><span class="w"> </span><span class="o">[</span>0x4a58af<span class="o">]</span>
Frame<span class="w">  </span><span class="m">1</span>:<span class="w"> </span>../build/pkdgrav3<span class="o">()</span><span class="w"> </span><span class="o">[</span>0x4a5a31<span class="o">]</span>
Frame<span class="w">  </span><span class="m">2</span>:<span class="w"> </span>/lib/x86_64-linux-gnu/libpthread.so.0<span class="o">(</span>+0x110c0<span class="o">)</span><span class="w"> </span><span class="o">[</span>0x2ac2ba61e0c0<span class="o">]</span>
Frame<span class="w">  </span><span class="m">3</span>:<span class="w"> </span>../build/pkdgrav3<span class="o">(</span>pkdGenerateIC+0x2117<span class="o">)</span><span class="w"> </span><span class="o">[</span>0x46ebb7<span class="o">]</span>
Frame<span class="w">  </span><span class="m">4</span>:<span class="w"> </span>../build/pkdgrav3<span class="o">(</span>pltGenerateIC+0x1a1<span class="o">)</span><span class="w"> </span><span class="o">[</span>0x470031<span class="o">]</span>
Frame<span class="w">  </span><span class="m">5</span>:<span class="w"> </span>../build/pkdgrav3<span class="o">(</span>mdlHandler+0x8a<span class="o">)</span><span class="w"> </span><span class="o">[</span>0x4afd5a<span class="o">]</span>
Frame<span class="w">  </span><span class="m">6</span>:<span class="w"> </span>../build/pkdgrav3<span class="o">(</span>main_ch+0x83<span class="o">)</span><span class="w"> </span><span class="o">[</span>0x4151b3<span class="o">]</span>
Frame<span class="w">  </span><span class="m">7</span>:<span class="w"> </span>../build/pkdgrav3<span class="o">()</span><span class="w"> </span><span class="o">[</span>0x4af7bf<span class="o">]</span>
Frame<span class="w">  </span><span class="m">8</span>:<span class="w"> </span>/lib/x86_64-linux-gnu/libpthread.so.0<span class="o">(</span>+0x7494<span class="o">)</span><span class="w"> </span><span class="o">[</span>0x2ac2ba614494<span class="o">]</span>
Frame<span class="w">  </span><span class="m">9</span>:<span class="w"> </span>/lib/x86_64-linux-gnu/libc.so.6<span class="o">(</span>clone+0x3f<span class="o">)</span><span class="w"> </span><span class="o">[</span>0x2ac2bcff5acf<span class="o">]</span>
</pre></div>
</div>
<p>A ce jour, la seule version fonctionnelle pour toutes les cartes à disposition est la version du 8 octobre 2018. Heureusement, nous avions une archive que nous allons exploiter.</p>
<p>PKDGRAV3 est un exemple de programme GPUfié mais en développement tel qu’il n’est pas possible d’en assuré un suivi opérationnel.</p>
</section>
<section id="compilation-d-une-version-fonctionnelle">
<h2>Compilation d’une version fonctionnelle<a class="headerlink" href="#compilation-d-une-version-fonctionnelle" title="Lien vers cette rubrique">¶</a></h2>
<p>La recette pour compiler PKDGRAV3  ur du Debian Stretch 9.0 est la suivante :</p>
<ul class="simple">
<li><p>Définition de la variable TIME pour la métrologie :</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">TIME</span><span class="o">=</span><span class="k">$(</span>cat<span class="w"> </span><span class="s1">&#39;/etc/time_command.cfg&#39;</span><span class="k">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Création du dossier utilisateur :</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir<span class="w"> </span>-p<span class="w"> </span>/local/<span class="nv">$USER</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Placement dans le dossier créé :</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>/local/<span class="nv">$USER</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Récupération du source</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>wget<span class="w"> </span>http://www.cbp.ens-lyon.fr/emmanuel.quemener/software/pkdgrav-20181008.tgz
</pre></div>
</div>
<ul class="simple">
<li><p>Expansion de l’archive :</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>tar<span class="w"> </span>xzf<span class="w"> </span>pkdgrav-20181008.tgz
</pre></div>
</div>
<ul class="simple">
<li><p>Passage dans le dossier de l’archive :</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>pkdgrav-20181008
</pre></div>
</div>
<ul class="simple">
<li><p>Création d’une variable positionnant la racine du source :</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">PKDGRAV3</span><span class="o">=</span><span class="nv">$PWD</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Création d’un dossier de construction :</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir<span class="w"> </span>build
</pre></div>
</div>
<ul class="simple">
<li><p>Passage dans le dossier de construction :</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>build
</pre></div>
</div>
<ul class="simple">
<li><p>Construction des tâches de compilation :</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">CC</span><span class="o">=</span>gcc-4.9<span class="w"> </span><span class="nv">CXX</span><span class="o">=</span>g++-4.9<span class="w"> </span>cmake<span class="w"> </span>..
</pre></div>
</div>
<ul class="simple">
<li><p>Compilation du programme en mode parallèle :</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span>-j<span class="w"> </span><span class="m">16</span><span class="w"> </span>&gt;<span class="w"> </span>pkdgrav3-Compile-<span class="k">$(</span>date<span class="w"> </span><span class="s2">&quot;+%Y%m%d-%H%M&quot;</span><span class="k">)</span><span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span>
</pre></div>
</div>
</section>
<section id="execution-de-l-exemple-fourni-dans-l-environnement-du-cbp">
<h2>Exécution de l’exemple fourni dans l’environnement du CBP<a class="headerlink" href="#execution-de-l-exemple-fourni-dans-l-environnement-du-cbp" title="Lien vers cette rubrique">¶</a></h2>
<ul class="simple">
<li><p>Déplacement dans le dossier d’exemples :</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span><span class="nv">$PKDGRAV3</span>/examples
</pre></div>
</div>
<ul class="simple">
<li><p>Lancement de l’exemple sur GPU :</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>/usr/bin/time<span class="w"> </span>../build/pkdgrav3<span class="w"> </span>cosmology.par<span class="w"> </span>&gt;<span class="w"> </span>cosmology-<span class="k">$(</span>date<span class="w"> </span><span class="s2">&quot;+%Y%m%d-%H%M%S&quot;</span><span class="k">)</span>.out<span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Préparation du lancement sur CPU :</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>rm<span class="w"> </span>.lockfile<span class="w"> </span>example.*
</pre></div>
</div>
<ul class="simple">
<li><p>Lancement de l’exemple sur CPU :</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>/usr/bin/time<span class="w"> </span>../build/pkdgrav3<span class="w"> </span>-cqs<span class="w"> </span><span class="m">0</span><span class="w"> </span>cosmology.par<span class="w"> </span>&gt;<span class="w"> </span>cosmology-<span class="k">$(</span>date<span class="w"> </span><span class="s2">&quot;+%Y%m%d-%H%M%S&quot;</span><span class="k">)</span>.out<span class="w"> </span><span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span>
</pre></div>
</div>
<p>Les deux fichiers de sortie en <code class="docutils literal notranslate"><span class="pre">*.out</span></code> donnent les informations sur les exécutions et la métrologie associée. Un <code class="docutils literal notranslate"><span class="pre">grep</span></code> sur le mot <code class="docutils literal notranslate"><span class="pre">Elapsed</span></code> extrait les temps d’exécution sur GPU et CPU.</p>
</section>
</section>


              </div>
              <!--
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper mt-4 d-flex justify-content-between">
  <div role="note" aria-label="source link">
    <ul class="this-page-menu">
      <li><a href="../../_sources/Plateformes/Autres/pkdgrav3.rst.txt"
            rel="nofollow">Montrer le code source</a></li>
    </ul>
   </div>

        </div>
      </div>-->
            </div>
            <div class="clearer"></div>
          </div>
        </div>
      </div>

  
      <div class="clearer"></div>
    </div>
<div class="orange-border right"></div>
  <footer class="container text-white bg-dark mt-5" style="text-align: center; width: 85%;">
    <p class="fs-11 mt-1">
    Centre Blaise Pascal et Pôle Scientifique de Modélisation Numérique, ENS de Lyon - 46, allée d'Italie - 69364 Lyon cedex 07 - France <br>
    Téléphone : +33 (0)4 72 72 86 37 - Email : cbp@ens-lyon.fr 
</p>
      <p class="fs-13">
    &#169; Copyright 2024, PSMN&#39;s Staff.
          Créé en utilisant <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.3.7.
      </p>
  </footer>
  <script src="../../_static/main.js"></script>
  <script src="../../_static/jquery.min.js"></script>
  <script src="../../_static/Bootstrap/js/bootstrap_bundle.min.js"></script>
  <script src="../../_static/Bootstrap/js/bootstrap_popper.min.js"></script>
  <script src="../../_static/Bootstrap/js/bootstrap_cdn.min.js"></script>
  <script src="../../_static/Bootstrap/js/bootstrap.min.js"></script>
  </body>
</html>